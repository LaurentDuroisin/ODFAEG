
<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on https://github.com/jonrohan -->
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="stylesheet" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" href="stylesheets/github-dark.css">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/script.js"></script>
    <title>Odfaeg</title>
    <meta name="description" content="ODFAEG">
    <meta name="viewport" content="width=device-width,initial-scale=1">
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="title">LastProject : ODFAEG</h1>
      </header>
      <div id="container">
        <p class="tagline">Création d'une application </p>
        <div id="main" role="main">
          <div class="download-bar">
            <div class="inner">
              <a href="https://github.com/LaurentDuroisin/ODFAEG/tarball/master" class="download-button tar"><span>Download</span></a>
              <a href="https://github.com/LaurentDuroisin/ODFAEG/zipball/master" class="download-button zip"><span>Download</span></a>
              <a href="menu">Documentation</a>
              <a href="http://odfaeg.yourboardpro.com/index.php">Forum</a>
              <a href="https://github.com/LaurentDuroisin/ODFAEG" class="code">View Odfaeg on GitHub</a>
              <a href="cv">CV</a>
              <a href="tfe">Travail de fin d'études</a>
            </div>
          <span class="blc"></span><span class="trc"></span>
        </div>
          <article class="markdown-body">
            <h1>Définition de l'application</h1>
            <p>Pour créer une application il faut hériter de la classe odfaeg::core::Application.<br/>
            (Il faut donc créer une nouvelle classe et la faire hériter de la classe odfaeg::core::Application.)<br/>
            La classe odfaeg::core::Application possède deux constructeurs, un pour les applications graphique et <br/>
            un autre pour les applications console.<br/>
            </p>
            
            <h2>Création d'une application graphique.</h2>
            <p>
            Pour créer une application graphique il vaut faudra appeler le constructeur avec arguments,<br/>
            en lui passant un sf::VideoMode, ainsi que le titre de la fenêtreSFML. (un std::string).<br/>
            Il est possible de passer des paramètres supplémentaire qui sont les suivants : <br/>
            Un booléen qui par défaut vaut false, si ce booléen vaut true, ODFAEG va utiliser un thread pour détecter<br/>
            les événements généré par l'application.</p>
            <p>
            Un booléen qui indique si l'on veut utiliser le depthtest par défaut de openGL ou pas, vaut faux par défaut.<br/>
            sf::Style qui par défaut vaut sf::Style::Defaut qui est le style de la fenêtre SFML.<br/>
            sf::ContextSettings qui sont les paramètres openGL passé à la SFML.<br/>
            </p>
            
            <h3>Méthodes virtuelles pouvant être redéfinie.</h3>
            <p>
            Par défaut l'application ne fait rien, elle affiche juste une fenêtre, si vous voulez dessiner dans la fenêtre <br/>
            et gérer les événements, il va falloir redéfinir certaines fonctions membres de la classe odfaeg::core::Application.<br/>
            
            La première méthode pouvant être redéfinie est la méthode onLoad, c'est dans cette méthode que ODFAEG va charger <br/>
            les ressources externe à l'application. <br/>
            (Par exemple, une image externe chargée à partir d'un fichier qui se trouve sur le disque dur.)<br/>
            
            La seconde est la méthode onInit, dans cette méthode ODFAEG va initialisé toutes les entités qui devront être affichées <br/>
            au démarrage de l'application.<br/>
            </p>
            <p>
            La troisième méthode est la méthode onRender, elle prend en paramètre un pointeur sur un objet de <br/>
            typeFastRenderComponentManager. En fait dans cette méthode, odfaeg va décrire tout ce qui devra être affiché sur <br/> 
            des composants de rendus, nous ce que sont les composants de rendu dans le prochain chapitre, pour l'instant, <br/>
            considérer les simplements comme des couches sur lesquelles on va pouvoir dessiner différentes partie de notre scène. <br/>
            (Par exemple un composant pour le sol et un autre pour le reste)<br/>
            </p>
            <p>
            La quatrième méthode est la méthode onDisplay, elle prend en paramètre un pointeur sur la fenêtre de rendu, <br/>
            c'est dans cette méthode que ODFAEG va dessiner sur la fenêtre de rendu!<br/>
            
            La cinquième méthode est la méthode onUpdate, cette dernière prend une référence sur un événement SFML, <br/>
            à chaque fois qu'un événement SFML est généré, ODFAEG appelle cette méthode, c'est donc dans cette méthode que ODFAEG <br/>
            va remettre à jour tout les états de vos objets.<br/>
            
            Et la dernière méthode est la méthode onExec, cette dernière fonction membre ne prend aucun paramètre, <br/>
            c'est dans cette méthode que ODFAEG va effectué les derniers traitements en fonction des états défini dans la méthode<br/>
            onUpdate, on aura par exemple dans cette méthode : <br/>
            les déplacements et les mises à jour des positions des objets en temps réel.<br/>
            </p>
            
            <h2>Création d'une application console.</h2>
            <p>
            Il n'est parfois pas nécessaire de créer une application de type graphique, par exemple, pour le cas des applications <br/>
            de type serveur. <br/>
            Pour créer une application console, il suffit simplement d'appeler le constructeur par défaut de la classe <br/>
            odfaeg::core::Application.<br/>
            </p>
            
            <h3>Méthode virtuelle pouvant être redéfinie.</h3>
            
            <p>
            La première méthode pouvant être redéfinie est la méthode onLoad, c'est dans cette méthode que ODFAEG va charger <br/>
            les ressources externe à l'application. (Par exemple, une image externe chargée à partir d'un fichier qui se trouve <br/>
            sur le disque dur.)<br/>
            
            La seconde est la méthode onInit, dans cette méthode ODFAEG va initialisé toutes les entités qui devront être affichées <br/>
            au démarrage de l'application.<br/>
            
            Et la dernière méthode est la méthode onExec, cette dernière fonction membre ne prend aucun paramètre, <br/>
            c'est dans cette méthode que ODFAEG va effectué les derniers traitements tels que la réception et l'envoi de message <br/>
            sur un réseau.<br/>
            </p>
            
            <h1>Autres méthodes utiles.</h1>
            
            <p>
            getTimeClock : cette méthode statique permet de récupérer l'horloge qui mesure le temps écoulé depuis le lancement <br/>
            du programme.<br/>
            getClock("ClockName") : cette méthode renvoie une horloge liée à l'application, par défaut, il y a une horloge d'ajoutée, <br/>
            appelée LoopTime qui mesure le temps boucle, donc, le temps écoulé depuis le dernière appel à la méthode exec.<br/>
            addClock(sf::Clock, std::string name) : ajoute une horloge liée à l'application, cette horloge sera référencée par un nom.<br/>
            </p>
            <p>
            <i>Pour l'instant ODFAEG utilise encore la classe sf::Clock mais par la suite elle sera remplacée par la classe Clock de ODFAEG.</i><br/>
            
            onDisconnected(User* user) : Renvoie un pointeur vers un utilisateur qui se déconnecte du réseau.<br/>
            app : pointeur vers l'application courante.<br/>
            
            Ensuite il ne reste plus qu'à créer l'application dans le main, pour cela, il suffit d'appeler le constructeur <br/>
            de la classe héritant de odfaeg::core::Application, et ensuite, d'appeler la méthode exec comme ceci : <br/>
            (par exemple si la classe dérivée s'appelle MyAppli, sa donnera ceci, ici je passe les paramètres au constructeur <br/>
            de la classe MyAppli dans le main)<br/>
            </p>
            
            <pre><code>
            MyAppli app(sf::VideoMode(800, 600, 32), "Test odfaeg");
            return app.exec();
            </code></pre>
            
           <p> Et voilà maintenant vous savez créer une application ODFAEG! </p>
          </article>
        </div>
      </div>
    </div>
  </body>
</html>
